pipeline
{
          agent any 
          stages { 
             stage('pull') {
                  steps{
                    script{
                        checkout([$class: 'GitSCM' , branches : [[name : '*/master']],
                             userRemoteConfigs: [[
                                 credentialsId : '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',
                                 url: 'https://github.com/achref2021/myapp.git']]])
                                 }
                                 }
                                 }
          stage ('Build')
          {
                    steps {
                      script{
                      sh " ansible-playbook Ansible/build.yml -i Ansible/inventory/host.yml "
                      }
                    
                    }
                                 
                                 }
         stage ('docker')
         {  
                    steps{
                    sh "ansible-playbook Ansible/docker.yml -i Ansible/inventory/host.yml "
                    }                        
                                 
                                 }
                                 }
                                 }
     
                           
                                 
